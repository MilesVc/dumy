<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Categories</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        function goToPage3() {
            const form2Data = new FormData(document.getElementById('form2'));
            localStorage.setItem('form2Data', JSON.stringify(Object.fromEntries(form2Data.entries())));
            window.location.href = 'page3.html';
        }

        function goToPage1() {
            window.location.href = 'index.html';
        }

        document.addEventListener('DOMContentLoaded', function () {
            const form1Data = JSON.parse(localStorage.getItem('form1Data'));
            const days = form1Data.days;
            const container = document.querySelector('.container');
            const form = document.createElement('form');
            form.setAttribute('id', 'form2');

            for (let day = 1; day <= days; day++) {
                const fieldset = document.createElement('fieldset');
                const legend = document.createElement('legend');
                legend.textContent = `Day ${day}`;
                fieldset.appendChild(legend);

                ['Breakfast', 'Lunch', 'Dinner'].forEach(meal => {
                    const mealLegend = document.createElement('legend');
                    mealLegend.textContent = meal;
                    fieldset.appendChild(mealLegend);

                    ['Welcome Drink', 'Starter', 'Main Course', 'Rice/Dal', 'Desserts', 'Sweets'].forEach(item => {
                        const id = `${meal.toLowerCase()}-${item.toLowerCase().replace(/ /g, '-')}-day-${day}`;
                        const checkbox = document.createElement('input');
                        checkbox.type = 'checkbox';
                        checkbox.id = id;
                        checkbox.name = id;
                        checkbox.value = `${meal} ${item} Day ${day}`;
                        
                        const label = document.createElement('label');
                        label.setAttribute('for', id);
                        label.textContent = item;
                        
                        fieldset.appendChild(checkbox);
                        fieldset.appendChild(label);
                        fieldset.appendChild(document.createElement('br'));
                    });
                });

                form.appendChild(fieldset);
            }

            const nextButton = document.createElement('button');
            nextButton.type = 'button';
            nextButton.textContent = 'Next';
            nextButton.setAttribute('onclick', 'goToPage3()');
            form.appendChild(nextButton);

            const previousButton = document.createElement('button');
            previousButton.type = 'button';
            previousButton.textContent = 'Previous';
            previousButton.setAttribute('onclick', 'goToPage1()');
            form.appendChild(previousButton);

            container.appendChild(form);
        });
    </script>
</head>
<body>
    <div class="container">
        <h1>Food Categories</h1>
    </div>
</body>
</html>
