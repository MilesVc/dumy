<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Details</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        function goToPage2() {
            window.location.href = 'page2.html';
        }

        document.addEventListener('DOMContentLoaded', function () {
            const form2Data = JSON.parse(localStorage.getItem('form2Data'));
            const groupedData = {
                'Breakfast': [],
                'Lunch': [],
                'Dinner': []
            };

            // Group form2Data by meal type
            for (const key in form2Data) {
                if (form2Data[key]) {
                    const mealType = form2Data[key].split(' ')[0];
                    groupedData[mealType].push({ key, value: form2Data[key] });
                }
            }

            const container = document.querySelector('.container');
            const form = document.createElement('form');
            form.setAttribute('action', 'submit.html');
            form.setAttribute('method', 'post');

            // Create fieldsets for each meal type
            for (const mealType in groupedData) {
                if (groupedData[mealType].length > 0) {
                    const fieldset = document.createElement('fieldset');
                    const legend = document.createElement('legend');
                    legend.textContent = mealType;
                    fieldset.appendChild(legend);

                    groupedData[mealType].forEach(item => {
                        const label = document.createElement('label');
                        label.setAttribute('for', item.key + '-details');
                        label.textContent = item.value.split(' ').slice(1).join(' ');
                        fieldset.appendChild(label);

                        const input = document.createElement('input');
                        input.setAttribute('type', 'text');
                        input.setAttribute('id', item.key + '-details');
                        input.setAttribute('name', item.key + '-details');
                        fieldset.appendChild(input);
                    });

                    form.appendChild(fieldset);
                }
            }

            const submitButton = document.createElement('button');
            submitButton.setAttribute('type', 'submit');
            submitButton.textContent = 'Submit';
            form.appendChild(submitButton);

            const previousButton = document.createElement('button');
            previousButton.setAttribute('type', 'button');
            previousButton.textContent = 'Previous';
            previousButton.setAttribute('onclick', 'goToPage2()');
            form.appendChild(previousButton);

            container.appendChild(form);
        });
    </script>
</head>
<body>
    <div class="container">
        <h1>Details</h1>
    </div>
</body>
</html>
